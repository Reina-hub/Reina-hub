{"ast":null,"code":"import _regeneratorRuntime from\"/home/reina/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/reina/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/reina/react-amplified/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import{DataStore}from'@aws-amplify/datastore';import{Leak}from'./models';import{useEffect,useState}from'react';import{withAuthenticator}from'@aws-amplify/ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leaks=_useState2[0],setLeaks=_useState2[1];useEffect(function(){var func=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var models;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return DataStore.query(Leak);case 2:models=_context.sent;setLeaks(models);case 4:case\"end\":return _context.stop();}}},_callee);}));return function func(){return _ref.apply(this,arguments);};}();func();},[]);var createLeak=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var leak,newLeak;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:leak={lon:window.prompt('leak lon'),lat:window.prompt('leak lat')};_context2.next=3;return DataStore.save(new Leak(leak));case 3:newLeak=_context2.sent;console.log(newLeak);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function createLeak(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:createLeak,children:\"Create Leak\"}),leaks.map(function(leak){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:leak.lon}),/*#__PURE__*/_jsx(\"h1\",{children:leak.lat})]},leak.id);})]});}export default withAuthenticator(App);","map":{"version":3,"sources":["/home/reina/react-amplified/src/App.js"],"names":["DataStore","Leak","useEffect","useState","withAuthenticator","App","leaks","setLeaks","func","query","models","createLeak","leak","lon","window","prompt","lat","save","newLeak","console","log","map","id"],"mappings":"mbAAA,MAAO,WAAP,CAEA,OAASA,SAAT,KAA0B,wBAA1B,CACA,OAASC,IAAT,KAAqB,UAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,iBAAT,KAAkC,uBAAlC,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CAEb,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOG,KAAP,eAAcC,QAAd,eAEAL,SAAS,CAAC,UAAM,CACd,GAAMM,CAAAA,IAAI,0FAAG,oKACUR,CAAAA,SAAS,CAACS,KAAV,CAAgBR,IAAhB,CADV,QACLS,MADK,eAEXH,QAAQ,CAACG,MAAD,CAAR,CAFW,sDAAH,kBAAJF,CAAAA,IAAI,0CAAV,CAIAA,IAAI,GAEL,CAPQ,CAON,EAPM,CAAT,CASA,GAAMG,CAAAA,UAAU,2FAAG,yJACXC,IADW,CACJ,CACXC,GAAG,CAAEC,MAAM,CAACC,MAAP,CAAc,UAAd,CADM,CAEXC,GAAG,CAAEF,MAAM,CAACC,MAAP,CAAc,UAAd,CAFM,CADI,wBAMKf,CAAAA,SAAS,CAACiB,IAAV,CACpB,GAAIhB,CAAAA,IAAJ,CAASW,IAAT,CADoB,CANL,QAMXM,OANW,gBASjBC,OAAO,CAACC,GAAR,CAAYF,OAAZ,EATiB,wDAAH,kBAAVP,CAAAA,UAAU,2CAAhB,CAWA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,eAAQ,OAAO,CAAEA,UAAjB,yBADF,CAEGL,KAAK,CAACe,GAAN,CAAU,SAAAT,IAAI,qBAAI,oCACjB,oBAAKA,IAAI,CAACC,GAAV,EADiB,cAEjB,oBAAKD,IAAI,CAACI,GAAV,EAFiB,GAAUJ,IAAI,CAACU,EAAf,CAAJ,EAAd,CAFH,GADF,CASD,CAED,cAAelB,CAAAA,iBAAiB,CAACC,GAAD,CAAhC","sourcesContent":["import './App.css';\n\nimport { DataStore } from '@aws-amplify/datastore';\nimport { Leak } from './models';\nimport { useEffect, useState } from 'react';\nimport { withAuthenticator } from '@aws-amplify/ui-react';\n\nfunction App() {\n\n  const [leaks, setLeaks] = useState([])\n\n  useEffect(() => {\n    const func = async () => {\n      const models = await DataStore.query(Leak)\n      setLeaks(models)\n    }\n    func()\n\n  }, [])\n\n  const createLeak = async () => {\n    const leak = {\n      lon: window.prompt('leak lon'),\n      lat: window.prompt('leak lat')\n    }\n\n    const newLeak = await DataStore.save(\n      new Leak(leak)\n    )\n    console.log(newLeak)\n  }\n  return (\n    <div className=\"App\">\n      <button onClick={createLeak}>Create Leak</button>\n      {leaks.map(leak => <div key={leak.id}>\n        <h1>{leak.lon}</h1>\n        <h1>{leak.lat}</h1>\n      </div>)}\n  </div>\n  );\n}\n\nexport default withAuthenticator(App);\n"]},"metadata":{},"sourceType":"module"}